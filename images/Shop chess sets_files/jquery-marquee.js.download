(function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):typeof exports!="undefined"?module.exports=factory(require("jquery")):factory(jQuery)})(function($){$.fn.marquee=function(options){return this.each(function(){var o=$.extend({},$.fn.marquee.defaults,options),$this=$(this),$marqueeWrapper,containerWidth,animationCss,verticalDir,elWidth,loopCount=3,playState="animation-play-state",css3AnimationIsSupported=!1,_prefixedEvent=function(element,type,callback){for(var pfx=["webkit","moz","MS","o",""],p=0;p<pfx.length;p++)pfx[p]||(type=type.toLowerCase()),element.addEventListener(pfx[p]+type,callback,!1)},_objToString=function(obj){var tabjson=[];for(var p in obj)obj.hasOwnProperty(p)&&tabjson.push(p+":"+obj[p]);return tabjson.push(),"{"+tabjson.join(",")+"}"},_startAnimationWithDelay=function(){$this.timer=setTimeout(animate,o.delayBeforeStart)},methods={pause:function(){css3AnimationIsSupported&&o.allowCss3Support?$marqueeWrapper.css(playState,"paused"):$.fn.pause&&$marqueeWrapper.pause(),$this.data("runningStatus","paused"),$this.trigger("paused")},resume:function(){css3AnimationIsSupported&&o.allowCss3Support?$marqueeWrapper.css(playState,"running"):$.fn.resume&&$marqueeWrapper.resume(),$this.data("runningStatus","resumed"),$this.trigger("resumed")},toggle:function(){methods[$this.data("runningStatus")==="resumed"?"pause":"resume"]()},destroy:function(){clearTimeout($this.timer),$this.find("*").addBack().off(),$this.html($this.find(".js-marquee:first").html())}};if(typeof options=="string"){$.isFunction(methods[options])&&($marqueeWrapper||($marqueeWrapper=$this.find(".js-marquee-wrapper")),$this.data("css3AnimationIsSupported")===!0&&(css3AnimationIsSupported=!0),methods[options]());return}var dataAttributes={},attr;$.each(o,function(key){if(attr=$this.attr("data-"+key),typeof attr!="undefined"){switch(attr){case"true":attr=!0;break;case"false":attr=!1;break}o[key]=attr}}),o.speed&&(o.duration=parseInt($this.width(),10)/o.speed*1e3),verticalDir=o.direction==="up"||o.direction==="down",o.gap=o.duplicated?parseInt(o.gap):0,$this.wrapInner('<div class="js-marquee"></div>');var $el=$this.find(".js-marquee").css({"margin-right":o.gap,float:"left"});if(o.duplicated&&$el.clone(!0).appendTo($this),$this.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),$marqueeWrapper=$this.find(".js-marquee-wrapper"),verticalDir){var containerHeight=$this.height();$marqueeWrapper.removeAttr("style"),$this.height(containerHeight),$this.find(".js-marquee").css({float:"none","margin-bottom":o.gap,"margin-right":0}),o.duplicated&&$this.find(".js-marquee:last").css({"margin-bottom":0});var elHeight=$this.find(".js-marquee:first").height()+o.gap;o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(elHeight,10)+parseInt(containerHeight,10))/parseInt(containerHeight,10)*o.duration,o.duration=parseInt(elHeight,10)/parseInt(containerHeight,10)*o.duration):o.duration=(parseInt(elHeight,10)+parseInt(containerHeight,10))/parseInt(containerHeight,10)*o.duration}else elWidth=$this.find(".js-marquee:first").width()+o.gap,containerWidth=$this.width(),o.startVisible&&!o.duplicated?(o._completeDuration=(parseInt(elWidth,10)+parseInt(containerWidth,10))/parseInt(containerWidth,10)*o.duration,o.duration=parseInt(elWidth,10)/parseInt(containerWidth,10)*o.duration):o.duration=(parseInt(elWidth,10)+parseInt(containerWidth,10))/parseInt(containerWidth,10)*o.duration;if(o.duplicated&&(o.duration=o.duration/2),o.allowCss3Support){var elm=document.body||document.createElement("div"),animationName="marqueeAnimation-"+Math.floor(Math.random()*1e7),domPrefixes="Webkit Moz O ms Khtml".split(" "),animationString="animation",animationCss3Str="",keyframeString="";if(elm.style.animation!==void 0&&(keyframeString="@keyframes "+animationName+" ",css3AnimationIsSupported=!0),css3AnimationIsSupported===!1){for(var i=0;i<domPrefixes.length;i++)if(elm.style[domPrefixes[i]+"AnimationName"]!==void 0){var prefix="-"+domPrefixes[i].toLowerCase()+"-";animationString=prefix+animationString,playState=prefix+playState,keyframeString="@"+prefix+"keyframes "+animationName+" ",css3AnimationIsSupported=!0;break}}css3AnimationIsSupported&&(animationCss3Str=animationName+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s infinite "+o.css3easing,$this.data("css3AnimationIsSupported",!0))}var _rePositionVertically=function(){$marqueeWrapper.css("transform","translateY("+(o.direction==="up"?containerHeight+"px":"-"+elHeight+"px")+")")},_rePositionHorizontally=function(){$marqueeWrapper.css("transform","translateX("+(o.direction==="left"?containerWidth+"px":"-"+elWidth+"px")+")")};o.duplicated?(verticalDir?o.startVisible?$marqueeWrapper.css("transform","translateY(0)"):$marqueeWrapper.css("transform","translateY("+(o.direction==="up"?containerHeight+"px":"-"+(elHeight*2-o.gap)+"px")+")"):o.startVisible?$marqueeWrapper.css("transform","translateX(0)"):$marqueeWrapper.css("transform","translateX("+(o.direction==="left"?containerWidth+"px":"-"+(elWidth*2-o.gap)+"px")+")"),o.startVisible||(loopCount=1)):o.startVisible?loopCount=2:verticalDir?_rePositionVertically():_rePositionHorizontally();var animate=function(){if(o.duplicated&&(loopCount===1?(o._originalDuration=o.duration,verticalDir?o.duration=o.direction==="up"?o.duration+containerHeight/(elHeight/o.duration):o.duration*2:o.duration=o.direction==="left"?o.duration+containerWidth/(elWidth/o.duration):o.duration*2,animationCss3Str&&(animationCss3Str=animationName+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),loopCount++):loopCount===2&&(o.duration=o._originalDuration,animationCss3Str&&(animationName=animationName+"0",keyframeString=$.trim(keyframeString)+"0 ",animationCss3Str=animationName+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),loopCount++)),verticalDir?o.duplicated?(loopCount>2&&$marqueeWrapper.css("transform","translateY("+(o.direction==="up"?0:"-"+elHeight+"px")+")"),animationCss={transform:"translateY("+(o.direction==="up"?"-"+elHeight+"px":0)+")"}):o.startVisible?loopCount===2?(animationCss3Str&&(animationCss3Str=animationName+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),animationCss={transform:"translateY("+(o.direction==="up"?"-"+elHeight+"px":containerHeight+"px")+")"},loopCount++):loopCount===3&&(o.duration=o._completeDuration,animationCss3Str&&(animationName=animationName+"0",keyframeString=$.trim(keyframeString)+"0 ",animationCss3Str=animationName+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),_rePositionVertically()):(_rePositionVertically(),animationCss={transform:"translateY("+(o.direction==="up"?"-"+$marqueeWrapper.height()+"px":containerHeight+"px")+")"}):o.duplicated?(loopCount>2&&$marqueeWrapper.css("transform","translateX("+(o.direction==="left"?0:"-"+elWidth+"px")+")"),animationCss={transform:"translateX("+(o.direction==="left"?"-"+elWidth+"px":0)+")"}):o.startVisible?loopCount===2?(animationCss3Str&&(animationCss3Str=animationName+" "+o.duration/1e3+"s "+o.delayBeforeStart/1e3+"s "+o.css3easing),animationCss={transform:"translateX("+(o.direction==="left"?"-"+elWidth+"px":containerWidth+"px")+")"},loopCount++):loopCount===3&&(o.duration=o._completeDuration,animationCss3Str&&(animationName=animationName+"0",keyframeString=$.trim(keyframeString)+"0 ",animationCss3Str=animationName+" "+o.duration/1e3+"s 0s infinite "+o.css3easing),_rePositionHorizontally()):(_rePositionHorizontally(),animationCss={transform:"translateX("+(o.direction==="left"?"-"+elWidth+"px":containerWidth+"px")+")"}),$this.trigger("beforeStarting"),css3AnimationIsSupported){$marqueeWrapper.css(animationString,animationCss3Str);var keyframeCss=keyframeString+" { 100%  "+_objToString(animationCss)+"}",$styles=$marqueeWrapper.find("style");$styles.length!==0?$styles.filter(":last").html(keyframeCss):$("head").append("<style>"+keyframeCss+"</style>"),_prefixedEvent($marqueeWrapper[0],"AnimationIteration",function(){$this.trigger("finished")}),_prefixedEvent($marqueeWrapper[0],"AnimationEnd",function(){animate(),$this.trigger("finished")})}else $marqueeWrapper.animate(animationCss,o.duration,o.easing,function(){$this.trigger("finished"),o.pauseOnCycle?_startAnimationWithDelay():animate()});$this.data("runningStatus","resumed")};$this.on("pause",methods.pause),$this.on("resume",methods.resume),o.pauseOnHover&&($this.on("mouseenter",methods.pause),$this.on("mouseleave",methods.resume)),css3AnimationIsSupported&&o.allowCss3Support?animate():_startAnimationWithDelay()})},$.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}});
//# sourceMappingURL=/cdn/shop/t/35/assets/jquery-marquee.js.map?v=24368078488276113491728153989
